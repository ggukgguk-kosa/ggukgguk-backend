<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ggukgguk.api.Member">
	<!-- 아이디 회원 조회 --> <!-- 아이디 중복조회 -->
	<select id="selectById" parameterType="java.lang.String"
		resultType="Member">
       <![CDATA[   
         SELECT member_id, member_pw, member_name, member_nickname, member_email,
         		member_phone, member_birth, member_created_at, member_activated,
         		member_authority, member_social
         FROM member
 		 WHERE member_id = #{memberId}
     	 ]]>
	</select>
	<!-- 회원 가입 -->
	<insert id="registerMember" parameterType="Member">
  	 <![CDATA[
   		INSERT INTO member 
   		(member_id, member_pw, member_name, member_birth, member_nickname, member_email, member_phone, member_created_at,
   		member_activated, member_authority, member_social)
   		VALUES(#{memberId},#{memberPw},#{memberName},#{memberBirth},#{memberNickname},
		#{memberEmail},#{memberPhone},default,1,#{memberAuthority},#{memberSocial})
  	    ]]>
	</insert>
	<!-- 아이디 찾기-->
	<select id="selectByEmail" parameterType="java.lang.String" resultType="Member">
	 <![CDATA[   
         SELECT member_id, member_pw, member_name, member_nickname, member_email,
         		member_phone, member_birth, member_created_at, member_activated,
         		member_authority, member_social
         FROM member
 		 WHERE member_email = #{memberEmail}  
     ]]>
	</select>
	<!-- 비밀번호 찾기 -->
	<select id="selectByPassword" parameterType="Member" resultType="Member">
	 <![CDATA[   
         SELECT member_id, member_pw, member_name, member_nickname, member_email,
         		member_phone, member_birth, member_created_at, member_activated,
         		member_authority, member_social
         FROM member
 		 WHERE member_email = #{memberEmail} and member_id = #{memberId}
     ]]>
	</select>
</mapper>